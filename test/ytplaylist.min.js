// require https://apis.google.com/js/api.js
!function(t){var e=!1
t.fn.ytPlaylist=function(i){function n(e){c.items=e.items,c.index=0,c.items.length>0&&(c.attr("role","video-control"),YT?a():t(document).on("youtube-player-loaded",a),l(),s())}function a(){c.screen=t("<div>",{role:"screen",id:y++}).appendTo(c),c.screen.player=new YT.Player(c.screen.attr("id"),{width:"100%",height:m.playerHeight,videoId:c.items[c.index].id})}function l(){c.items.length>1&&(c.playlist=t("<div>",{role:"playlist"}).appendTo(c),c.playlist.btnPrev=t("<span>",{role:"nav-prev"}).appendTo(c.playlist),c.playlist.btnNext=t("<span>",{role:"nav-next"}).appendTo(c.playlist),c.playlist.items=t("<div>").appendTo(c.playlist),t(c.items).each(function(e,i){t("<img>",{src:i.snippet.thumbnails.medium.url,title:i.snippet.title,class:c.index==e?"active":"","data-index":e}).css("width",m.thumbWidth).appendTo(c.playlist.items)}),o())}function o(){var e=c.playlist.items.position().left,i=t("img",c.playlist.items)
c.playlist.btnPrev[e<0?"show":"hide"](),c.playlist.btnNext[e+i.outerWidth()*i.length>c.playlist.items.innerWidth()+i.length?"show":"hide"]()}function s(){c.playlist.on("click","[role=nav-next],[role=nav-prev]",p),c.playlist.on("click","img",d)}function p(e){var i=c.playlist.items.position().left,n=t("img",c.playlist.items).outerWidth()
t(e.target).is("[role=nav-prev]")?i+=n:i-=n,c.playlist.items.css("left",i+"px"),o()}function d(e){t("img.active",c.playlist).removeClass("active"),t(e.target).addClass("active"),c.index=t(e.target).data("index"),c.screen.player.loadVideoById(c.items[c.index].id)}function r(){gapi.client.init({apiKey:m.apiKey}),gapi.client.youtube.videos.list(m.query).execute(n)}var u={apiKey:"",query:{part:"snippet",chart:"mostPopular"},playerHeight:360,thumbWidth:"25%"},c=this,y=Math.floor(26*Math.random())+Date.now(),m=t.extend({},u,i)
return e?r():t(document).on("youtube-api-loaded",r),this},t.getScript("https://apis.google.com/js/api.js",function(){gapi.load("client",function(){gapi.client.load("youtube","v3",function(){e=!0,t(document).trigger(t.Event("youtube-api-loaded"))})})}),"undefined"==typeof YT&&(window.onYouTubeIframeAPIReady=function(){t(document).trigger(t.Event("youtube-player-loaded"))},t.getScript("https://www.youtube.com/iframe_api"))}(jQuery)
